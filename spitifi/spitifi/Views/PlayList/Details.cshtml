@model spitifi.Models.DbModels.PlayList

@{
    ViewData["Title"] = "Details";

    var dono = false;

    if (Model.Dono.Username == User.Identity.Name)
    {
        dono = true;
    }

    int i = 1;
}

<div class="d-flex align-items-center">
    <img style ="max-height: 100px; max-width: 100px" src="/@Model.Foto" alt=""/>
    <div style="margin-left: 30px">
        <h1>@Model.Nome</h1>
        <h6>PlayList</h6>
        <h5>@Html.DisplayFor(model => model.Dono.Username) : @Model.Musicas.Count músicas</h5>
    </div>
    </div>
<hr />
<div>
    <!-- css da tabela na pasta css - pagina site.css-->
    <table class="table table-borderless">
        <thead>
        <tr style="font-size: 16px">
            <td>#</td>
            <td>Titulo</td>
            <td>Álbum</td>
        </tr>
        </thead>
        <tbody class="col-sm-10">
        @foreach (var musica in Model.Musicas)
        {
            <tr>
                <td style="padding-top: 30px">@i</td>
                <td class="d-flex align-items-center">
                    <img style="max-height: 70px; max-width: 70px" src="/@musica.Album.Foto" alt=""/>

                    <div style="margin-left: 10px; font-size: 14px">
                    <li class="flex-column" style="margin-bottom: 5px"><strong>@musica.Nome</strong></li>
                    <audio controls class="flex-column">
                        <source src="/@musica.FilePath" type="audio/wav">
                        <source src="/@musica.FilePath" type="audio/mpeg">
                    </audio>
                    </div>
                </td>
                <td>@musica.Album.Titulo</td>
            </tr>
            i++;
        }
        <br/>
        </tbody>
    </table>
</div>
<div style="margin-top: 20px">
    <a asp-action="Index"><i class="bi bi-arrow-90deg-left" style="color: white; margin-right: 15px"> Voltar </i></a>
    @if (dono)
    {
        <a asp-action="Edit" asp-route-id="@Model?.Id" class="btn btn-secondary" style="margin-right: 15px">Editar</a>
        <a asp-action="Delete" asp-route-id="@Model?.Id" class="btn btn-danger">Apagar Playlist</a>
    }
</div>